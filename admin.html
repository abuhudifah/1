<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة الإدارة - شركة أبو حذيفة للصرافة</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="admin.css">
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'cairo': ['Cairo', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="admin-panel">
    <!-- Message Container -->
    <div id="adminMessageContainer" class="fixed top-5 right-5 z-50"></div>

    <div class="admin-layout">
        <!-- Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <!-- Sidebar Header -->
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <i class="fas fa-exchange-alt"></i>
                    أبو حذيفة
                </div>
                <div class="sidebar-subtitle">لوحة الإدارة</div>
            </div>

            <!-- Sidebar Navigation -->
            <nav class="sidebar-nav">
                <a href="#" class="sidebar-link active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>لوحة المعلومات</span>
                </a>
                <a href="#" class="sidebar-link" data-section="rates">
                    <i class="fas fa-chart-line"></i>
                    <span>إدارة الأسعار</span>
                </a>
                <a href="#" class="sidebar-link" data-section="news">
                    <i class="fas fa-newspaper"></i>
                    <span>إدارة الأخبار</span>
                </a>
                <a href="#" class="sidebar-link" data-section="users">
                    <i class="fas fa-users"></i>
                    <span>إدارة المستخدمين</span>
                </a>
                <a href="#" class="sidebar-link" data-section="transactions">
                    <i class="fas fa-exchange-alt"></i>
                    <span>المعاملات</span>
                </a>
                <a href="#" class="sidebar-link" data-section="reports">
                    <i class="fas fa-chart-bar"></i>
                    <span>التقارير</span>
                </a>
                <a href="#" class="sidebar-link" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span>الإعدادات</span>
                </a>
            </nav>

            <!-- Sidebar Footer -->
            <div class="sidebar-footer">
                <div class="admin-info">
                    <div class="admin-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="admin-details">
                        <h4 id="adminName">المدير العام</h4>
                        <p id="adminRole">مدير النظام</p>
                    </div>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt ml-2"></i>
                    تسجيل الخروج
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <div class="header-left">
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="page-title">لوحة المعلومات</h1>
                </div>
                <div class="header-right">
                    <div class="header-stats">
                        <div class="header-stat">
                            <div class="header-stat-value" id="onlineUsers">24</div>
                            <div class="header-stat-label">متصل الآن</div>
                        </div>
                        <div class="header-stat">
                            <div class="header-stat-value" id="todayTransactions">156</div>
                            <div class="header-stat-label">معاملات اليوم</div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <div class="admin-content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="admin-section">
                    <!-- Stats Cards -->
                    <div class="dashboard-stats">
                        <div class="stat-card users">
                            <div class="stat-header">
                                <div class="stat-icon users">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                            <div class="stat-value" id="totalUsers" data-target="15420">0</div>
                            <div class="stat-label">إجمالي المستخدمين</div>
                            <div class="stat-change positive">+12%</div>
                        </div>

                        <div class="stat-card transactions">
                            <div class="stat-header">
                                <div class="stat-icon transactions">
                                    <i class="fas fa-exchange-alt"></i>
                                </div>
                            </div>
                            <div class="stat-value" id="totalTransactions" data-target="89650">0</div>
                            <div class="stat-label">إجمالي المعاملات</div>
                            <div class="stat-change positive">+8%</div>
                        </div>

                        <div class="stat-card revenue">
                            <div class="stat-header">
                                <div class="stat-icon revenue">
                                    <i class="fas fa-dollar-sign"></i>
                                </div>
                            </div>
                            <div class="stat-value" id="totalRevenue" data-target="2450000">0</div>
                            <div class="stat-label">إجمالي الإيرادات (ريال)</div>
                            <div class="stat-change positive">+15%</div>
                        </div>

                        <div class="stat-card rates">
                            <div class="stat-header">
                                <div class="stat-icon rates">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                            </div>
                            <div class="stat-value" id="activeRates" data-target="12">0</div>
                            <div class="stat-label">أسعار الصرف النشطة</div>
                            <div class="stat-change neutral">0%</div>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="dashboard-charts">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">الإيرادات الشهرية</h3>
                                <select class="form-select" style="width: auto;">
                                    <option>آخر 6 أشهر</option>
                                    <option>آخر سنة</option>
                                </select>
                            </div>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>

                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">توزيع المستخدمين</h3>
                            </div>
                            <div class="chart-container">
                                <canvas id="usersChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="activity-card">
                        <div class="activity-header">
                            <h3 class="activity-title">النشاطات الأخيرة</h3>
                        </div>
                        <div class="activity-list" id="recentActivity">
                            <!-- Activities will be loaded here -->
                        </div>
                    </div>
                </section>

                <!-- Rates Management Section -->
                <section id="rates" class="admin-section hidden">
                    <div class="admin-form">
                        <div class="form-header">
                            <h2 class="form-title">تحديث أسعار الصرف</h2>
                            <p class="form-subtitle">قم بتحديث أسعار الصرف الحالية</p>
                        </div>
                        
                        <form id="rateUpdateForm">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">العملة</label>
                                    <select name="currency" class="form-select" required>
                                        <option value="">اختر العملة</option>
                                        <option value="USD">الدولار الأمريكي</option>
                                        <option value="SAR">الريال السعودي</option>
                                        <option value="AED">الدرهم الإماراتي</option>
                                        <option value="EUR">اليورو</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">سعر الشراء (صنعاء)</label>
                                    <input type="number" name="buyPriceSanaa" class="form-input" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">سعر البيع (صنعاء)</label>
                                    <input type="number" name="sellPriceSanaa" class="form-input" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">سعر الشراء (عدن)</label>
                                    <input type="number" name="buyPriceAden" class="form-input" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">سعر البيع (عدن)</label>
                                    <input type="number" name="sellPriceAden" class="form-input" step="0.01" required>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i>
                                    حفظ التحديث
                                </button>
                                <button type="reset" class="btn btn-secondary">
                                    <i class="fas fa-undo"></i>
                                    إعادة تعيين
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Current Rates -->
                    <div class="admin-table">
                        <div class="table-header">
                            <h3 class="table-title">الأسعار الحالية</h3>
                            <div class="table-actions">
                                <button class="btn btn-primary btn-sm" onclick="refreshRates()">
                                    <i class="fas fa-sync-alt"></i>
                                    تحديث
                                </button>
                            </div>
                        </div>
                        <div class="rates-grid" id="currentRates">
                            <!-- Rates will be loaded here -->
                        </div>
                    </div>
                </section>

                <!-- News Management Section -->
                <section id="news" class="admin-section hidden">
                    <div class="admin-form">
                        <div class="form-header">
                            <h2 class="form-title">إضافة خبر جديد</h2>
                            <p class="form-subtitle">أضف خبراً جديداً إلى الموقع</p>
                        </div>
                        
                        <form id="newsForm">
                            <div class="form-group">
                                <label class="form-label">عنوان الخبر</label>
                                <input type="text" name="title" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">المحتوى</label>
                                <textarea name="content" class="form-textarea" rows="6" required></textarea>
                            </div>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">الحالة</label>
                                    <select name="status" class="form-select" required>
                                        <option value="draft">مسودة</option>
                                        <option value="published">منشور</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">رابط الصورة</label>
                                    <input type="url" name="image" class="form-input">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i>
                                    حفظ الخبر
                                </button>
                                <button type="reset" class="btn btn-secondary">
                                    <i class="fas fa-undo"></i>
                                    إعادة تعيين
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- News List -->
                    <div class="admin-table">
                        <div class="table-header">
                            <h3 class="table-title">الأخبار المنشورة</h3>
                            <div class="table-actions">
                                <button class="btn btn-primary btn-sm">
                                    <i class="fas fa-plus"></i>
                                    خبر جديد
                                </button>
                            </div>
                        </div>
                        <div id="newsList">
                            <!-- News will be loaded here -->
                        </div>
                    </div>
                </section>

                <!-- Users Management Section -->
                <section id="users" class="admin-section hidden">
                    <!-- User Filters -->
                    <div class="admin-form">
                        <div class="form-header">
                            <h2 class="form-title">فلترة المستخدمين</h2>
                        </div>
                        <form id="userFilters">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">الحالة</label>
                                    <select name="status" class="form-select">
                                        <option value="">جميع الحالات</option>
                                        <option value="active">نشط</option>
                                        <option value="inactive">غير نشط</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">تاريخ التسجيل</label>
                                    <input type="date" name="joinDate" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">البحث</label>
                                    <input type="text" name="search" class="form-input" placeholder="البحث بالاسم أو البريد">
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Users List -->
                    <div class="admin-table">
                        <div class="table-header">
                            <h3 class="table-title">قائمة المستخدمين</h3>
                            <div class="table-actions">
                                <button class="btn btn-primary btn-sm">
                                    <i class="fas fa-download"></i>
                                    تصدير
                                </button>
                            </div>
                        </div>
                        <div id="usersList">
                            <!-- Users will be loaded here -->
                        </div>
                    </div>
                </section>

                <!-- Transactions Section -->
                <section id="transactions" class="admin-section hidden">
                    <!-- Transaction Filters -->
                    <div class="admin-form">
                        <div class="form-header">
                            <h2 class="form-title">فلترة المعاملات</h2>
                        </div>
                        <form id="transactionFilters">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">نوع المعاملة</label>
                                    <select name="type" class="form-select">
                                        <option value="">جميع الأنواع</option>
                                        <option value="exchange">صرف</option>
                                        <option value="transfer">تحويل</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">الحالة</label>
                                    <select name="status" class="form-select">
                                        <option value="">جميع الحالات</option>
                                        <option value="completed">مكتمل</option>
                                        <option value="pending">معلق</option>
                                        <option value="rejected">مرفوض</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">من تاريخ</label>
                                    <input type="date" name="fromDate" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">إلى تاريخ</label>
                                    <input type="date" name="toDate" class="form-input">
                                </div>
                            </div>
                        </form>
                    </div>

                    <!-- Transactions List -->
                    <div class="admin-table">
                        <div class="table-header">
                            <h3 class="table-title">قائمة المعاملات</h3>
                            <div class="table-actions">
                                <button class="btn btn-success btn-sm">
                                    <i class="fas fa-download"></i>
                                    تصدير Excel
                                </button>
                            </div>
                        </div>
                        <div class="table-content">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>رقم المعاملة</th>
                                        <th>المستخدم</th>
                                        <th>النوع</th>
                                        <th>المبلغ</th>
                                        <th>الحالة</th>
                                        <th>التاريخ</th>
                                        <th>الإجراءات</th>
                                    </tr>
                                </thead>
                                <tbody id="transactionsList">
                                    <!-- Transactions will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Reports Section -->
                <section id="reports" class="admin-section hidden">
                    <div class="dashboard-charts">
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">المعاملات الأسبوعية</h3>
                            </div>
                            <div class="chart-container">
                                <canvas id="transactionsChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3 class="chart-title">الإحصائيات السريعة</h3>
                            </div>
                            <div class="p-6">
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span>معاملات اليوم</span>
                                        <span class="font-bold text-blue-600">156</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>معاملات الأسبوع</span>
                                        <span class="font-bold text-green-600">1,234</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>معاملات الشهر</span>
                                        <span class="font-bold text-purple-600">5,678</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span>إجمالي الإيرادات</span>
                                        <span class="font-bold text-orange-600">2,450,000 ريال</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings" class="admin-section hidden">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- General Settings -->
                        <div class="admin-form">
                            <div class="form-header">
                                <h2 class="form-title">الإعدادات العامة</h2>
                            </div>
                            <form id="generalSettingsForm">
                                <div class="form-group">
                                    <label class="form-label">اسم الشركة</label>
                                    <input type="text" name="companyName" class="form-input" value="شركة أبو حذيفة للصرافة">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">البريد الإلكتروني</label>
                                    <input type="email" name="email" class="form-input" value="info@abuhudhayfa.com">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">رقم الهاتف</label>
                                    <input type="tel" name="phone" class="form-input" value="+967123456789">
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">
                                        <i class="fas fa-save"></i>
                                        حفظ
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Security Settings -->
                        <div class="admin-form">
                            <div class="form-header">
                                <h2 class="form-title">إعدادات الأمان</h2>
                            </div>
                            <form id="securitySettingsForm">
                                <div class="form-group">
                                    <label class="form-label">كلمة المرور الحالية</label>
                                    <input type="password" name="currentPassword" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">كلمة المرور الجديدة</label>
                                    <input type="password" name="newPassword" class="form-input">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">تأكيد كلمة المرور</label>
                                    <input type="password" name="confirmPassword" class="form-input">
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-danger">
                                        <i class="fas fa-key"></i>
                                        تغيير كلمة المرور
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="main.js"></script>
    <script src="admin-core.js"></script>
    
    <script>
        // Set admin session for demo
        sessionStorage.setItem('adminLoggedIn', 'true');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'973578f624e69bf7',t:'MTc1NTg5ODIzOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
                              </html>
  
